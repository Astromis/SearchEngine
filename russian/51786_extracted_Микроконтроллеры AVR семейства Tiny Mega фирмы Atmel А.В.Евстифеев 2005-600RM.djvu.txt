Часть 2. Микроконтроллеры семейства Mega 
Выводы микроконтроллеров, используемые для подключения внешнего 
ОЗУ, сведены в Табл. 2.22. Как видно из таблицы, во всех моделях эти  
выводы являются линиями портов ввода/вывода общего назначения. При  
разрешении работы с внешним ОЗУ режим работы этих выводов определяется 
не содержимым регистра направления передачи данных, а самим  
микроконтроллером. 
Таблица 2.22. Выводы, используемые для подключения внешнего ОЗУ 
Название 
й 
Описание 
AD0...AD7 
РА0...РА7 (PORTA) 
Мультиплексированная ША/ШД 
А8...А15 
РС0...РС7 (PORTC) 
Старший байт ША 
ALE 
РЕ1 
PG2 
Строб адреса 
Ш5 
PD7 
PG1 
Строб записи 
WR 
PD6 
PG0 
Строб чтения 
Если работа с внешним ОЗУ разрешена, то при обращении по адресу,  
находящемуся вне границы внутреннего ОЗУ, автоматически происходит  
обращение к внешнему ОЗУ. После формирования на выводах порта А  
младшего байта адреса вывод ALE меняет свое состояние с лог. 1 на лог. О и 
остается в этом состоянии в течение всего цикла чтения/записи. Обращение 
к внутреннему ОЗУ при разрешенной работе с внешним ОЗУ также может 
привести к некоторой активности на выводах портов А и С, однако это не 
влияет на работу схемы, поскольку сигналы стробов чтения (RD) и записи 
(WR) при этом находятся в неактивном состоянии. 
При отсутствии обращения к внешней памяти выводы порта А  
переводятся микроконтроллером в третье состояние. Этого можно избежать, если 
подключить к выходам порта внутренние подтягивающие резисторы либо 
установить в «1» разряд ХМВК регистра SFIOR (модели ATmega8515x и 
ATmegal62x) или XMCRB (модели ATmega64x и ATmegal28x). При  
установленном разряде на вьюодах порта А всегда сохраняется последнее  
выведенное значение. 
Подключение внешнего ОЗУ к микроконтроллеру показано на 
Рис. 2.19. Как видно из рисунка, для этого дополнительно потребуется 
регистр-защелка. В качестве такой защелки, как правило, используют 
микросхему типа 74x573 (например, SN74AHC573) или аналогичную, 
в которой защелкивание данных происходит по низкому уровню  
управляющего сигнала. 
— 176 — 
