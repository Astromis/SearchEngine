Часть 2. Микроконтроллеры семейства Mega 
13.6.3.1. Режим Normal 
Это наиболее простой режим работы таймеров/счетчиков. В этом  
режиме счетный регистр функционирует как обычный суммирующий счетчик. 
По каждому импульсу тактового сигнала clkT, (clkT3) осуществляется  
инкремент счетного регистра. При переходе через значение $FFFF возникает  
переполнение, и счет продолжается со значения $0000. В том же такте сигнала 
clkT, (clkT3), в котором обнуляется регистр TCNT1 (TCNT3), устанавливается 
в «1» флаг прерывания по переполнению TOV1 (TOV3). 
Блоки сравнения обоих таймеров в этом режиме могут использоваться 
как для генерации прерываний, так и для формирования сигналов. 
Поведение выходов ОС 1 А/ОС 1 В/ОС 1С (ОСЗА/ОСЗВ/ОСЗС) каждого из 
блоков сравнения таймеров/счетчиков Tl (T3) определяется состоянием 
разрядов COMflJl:COM>LY0 регистров TCCR1A (TCCR3A), как показано 
в Табл. 2.94. 
Таблица 2.94. Управление выводом ОС1А/ОС1В/ОС1С (ОСЗА/ОСЗВ/ОСЗС) 
в режиме Normal 
COM/iAl/COM/fBl/ 
СОМлС1 
0 
0 
1 
1 
СОМлАО/СОМлВО/ 
СОМлСО 
0 
1 
0 
1 
Описание 
Таймер/счетчик Тп отключен от вывода 
ОСпА/ОСпВ/ОСпС 
Состояние вывода меняется 
на противоположное 
Вывод сбрасывается в «0» 
Вывод устанавливается в «1» 
Примечание: п = 1 или 3 
Состояние выхода любого блока сравнения также может быть изменено 
принудительно, записью лог. 1 в разряд FOC1A/FOC1B/FOC1C 
(FOC3A/FOC3B/FOC3C) регистра TCCR1C (TCCR3C). Прерывание при 
этом не генерируется. 
13.6.3.2. Режим СТС (сброс при совпадении) 
В этом режиме счетный регистр тоже функционирует как обычный  
суммирующий счетчик, инкремент которого осуществляется по каждому  
импульсу тактового сигнала clkT, (clkT3). Однако максимально возможное  
значение счетного регистра и, следовательно, разрешающая способность 
счетчика определяется либо регистром сравнения блока «A» OCR1A 
(OCR3A), либо регистром захвата ICR1 (ICR3). После достижения  
максимального значения счет продолжается со значения $0000. В том же такте 
сигнала clkT, (clkT3), в котором обнуляется счетный регистр, устанавливается 
-290- 
