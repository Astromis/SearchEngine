Часть 4. Программирование микроконтроллеров семейств Tiny и Mega 
• На вход TMS подается последовательность сигналов «1», «1», «О», 
«О», которые «защелкиваются» по нарастающему фронту сигнала 
ТСК. В результате ТАР-контроллер переходит в состояние 
«Shift-IR», в котором к входу TDI подключается сдвиговый 
регистр команд. После этого на вход TDI подается начиная 
с младшего разряда 4-разрядный код команды. Занесение  
разрядов кода в регистр команд также осуществляется по  
нарастающему фронту сигнала ТСК. При загрузке 3-х младших разрядов 
на выводе TMS должен удерживаться сигнал лог. О, чтобы 
ТАР-контроллер оставался в состоянии «Shift-IR». Старший  
разряд кода команды заносится в регистр при выходе контроллера 
из этого состояния, осуществляемого подачей на вход TMS лог. 1. 
При этом контроллер переходит в состояние «Exit-IR». Во время 
загрузки команды на вывод TDO выдается значение $01 (начиная 
с младшего разряда). Загруженная команда определяет, какой из 
регистров данных JTAG будет далее подключен между выводами 
TDI и TDO, а также управляет элементами микроконтроллера, 
с которыми связан этот регистр данных. 
• На вход TMS подается последовательность сигналов «1», «0», 
в результате чего микроконтроллер возвращается в состояние 
«Run-Test/Idle». При прохождении состояния «Update-IR» 
содержимое сдвигового регистра фиксируется на его  
параллельном выходе. 
• На вход TMS подается последовательность сигналов «1», «0», «0», 
которые «защелкиваются» по нарастающему фронту сигнала 
ТСК. В результате ТАР-контроллер переходит в состояние 
«Shift-DR». В этом состоянии в регистр данных, определяемый 
загруженной ранее командой, заносятся начиная с младшего  
разряда необходимые данные. Как и в случае команд, загрузка  
осуществляется с вывода TDI по нарастающему фронту сигнала 
ТСК. При загрузке всех разрядов регистра, кроме самого  
старшего, на выводе TMS должен удерживаться сигнал лог. 0, чтобы 
ТАР-контроллер оставался в состоянии «Shift-DR». Старший  
разряд данных заносится в регистр при выходе контроллера из этого 
состояния, осуществляемого подачей на вход TMS лог. 1. При 
этом контроллер переходит в состояние «Exit-DR».  
Одновременно с загрузкой данных на вывод TDO выдается начиная с  
младшего разряда содержимое регистра данных, «захваченного» в  
состоянии «Capture-DR». 
• На вход TMS подается последовательность сигналов «1», «0», 
в результате чего микроконтроллер вновь возвращается в  
состояние «Run-Test/Idle». Если выбранный регистр имеет параллель- 
-516- 
