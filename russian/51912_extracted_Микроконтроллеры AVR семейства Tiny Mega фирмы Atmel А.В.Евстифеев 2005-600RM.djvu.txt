Глава 13. Таймеры 
контроллер в режим совместимости с какими-либо другими моделями. 
Соответственно в моделях ATmega8515x это ячейка S8515C, в моделях 
ATmegal62x — М161С, а в моделях ATmega64x/128x — М103С. В моделях 
ATmega8x такой ячейки нет. Соответствие между состоянием этих ячеек и 
конфигурацией сторожевого таймера приведено в Табл. 2.105. 
Таблица 2.105. Конфигурация сторожевого таймера 
S8515C (Alhiega8515x) 
М161С (ATtoegal62x) 
М103С (ATtaega64x/128x) 
1 
1 
0 
0 
WDTON 
1 
0 
1 
0 
Уровень 
1 
2 
0 
2 
Начальное 
состояние 
сторожевого 
таймера 
Выключен 
Включен 
Выключен 
Включен 
Выключение 
сторожевого 
таймера 
 
Последовательность команд 
Всегда включен 
 
Последовательность команд 
Всегда включен 
Изменение 
периода 
тайм-аута 
 
Последовательность 
команд 
 
Последовательность 
команд 
Без  
ограничений 
 
Последовательность 
команд 
Режимы управления сторожевыми таймерами характеризуются 
тремя уровнями: 0, 1 и 2. 
В режиме уровня 0 управление сторожевым таймером осуществляется 
как в более ранних моделях (см. описание предыдущей группы  
микроконтроллеров). При включении микроконтроллера сторожевой таймер  
выключен, однако он может быть включен в любой момент записью лог. 1 в разряд 
WDE регистра WDTCR. В моделях ATmega8x этот уровень не реализован. 
Уровень 1 — это когда для выключения сторожевого таймера или для  
изменения периода тайм-аута необходимо одной командой записать лог. 1 в 
разряды WDE и WDTCE, а в течение следующих четырех машинных  
циклов записать тоже одной командой требуемые значения в разряды WDE 
и/или WDP2...0, одновременно сбрасывая разряд WDCE. 
В режиме уровня 2 сторожевой таймер включен постоянно (разряд WDE 
всегда читается как «1») и не может быть выключен. Для изменения периода 
тайм-аута необходимо одной командой записать лог. 1 в разряды WDE и 
WDTCE, а в течение следующих четырех машинных циклов записать  
требуемое значение в разряды WDP2...0, одновременно сбрасывая разряд 
WDCE. Значение, записываемое в разряд WDE, безразлично. 
Период тайм-аута сторожевого таймера задается с помощью разрядов 
WDP2.. .WDP0 регистра WDTCR согласно Табл. 2.106. 
-303- 
