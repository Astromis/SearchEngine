Глава 3. Устройство управления микроконтроллеров 
Если в программе, загруженной в микроконтроллер, прерывания 
никогда не используются, то на месте таблицы векторов прерываний 
может быть размещена часть этой программы. 
Таблица 1.23. Таблица векторов прерываний 
Источник 
INTO 
INT1 
PIN_CHANGE 
LOW_LEVEL 
TIMER1 COMPA 
TIMER1 OVF 
TIMEROOVF 
EE_RDY 
ANA_COMP 
ADC 
Описание 
Внешнее прерывание 0 
Внешнее прерывание 1 
Изменение сигналов на выводах 
НИЗКИЙ уровень на входе порта В 
Совпадение «А» таймера/счетчика Т1 
Переполнение таймера/счетчика Т1 
Переполнение таймера/счетчика ТО 
EEPROM готово 
Аналоговый компаратор 
Преобразование АЦП завершено 
ATtiny 
Их 
№ 
1 
- 
2 
- 
- 
- 
3 
- 
4 
- 
Адрес 
$001 
- 
$002 
- 
- 
- 
$003 
- 
$004 
- 
12х 
№ 
1 
- 
2 
- 
- 
- 
3 
4 
5 
- 
Адрес 
$001 
- 
$002 
- 
- 
- 
$003 
$004 
$005 
- 
15L 
№ 
1 
- 
2 
- 
4 
5 
6 
7 
8 
Адрес 
$001 
- 
$002 
- 
$003 
$004 
$005 
$006 
$007 
$008 
28х 
1 
2 
3 
- 
- 
4 
- 
5 
- 
Адрес 
$001 
$002 
$003 
- 
- 
$004 
- 
$005 
- 
3.5.2. Обработка прерываний 
Для разрешения прерываний флаг I регистра SREG должен быть 
установлен в «1». Разрешение или запрещение (маскирование)  
отдельных прерываний производится установкой или сбросом  
соответствующих разрядов регистров масок прерываний, рассматриваемых ниже. 
Обработка прерываний осуществляется следующим образом: 
• при выполнении условий, необходимых для генерации  
прерывания, соответствующий этому прерыванию флаг устанавливается 
в «1», а флаг I аппаратно сбрасывается, запрещая тем самым  
обработку следующих прерываний. Однако в подпрограмме  
обработки прерывания этот флаг можно будет установить в «1» для  
разрешения вложенных прерываний; 
• если прерывание разрешено (флаг разрешения прерывания  
установлен), в счетчик команд загружается адрес вектора  
соответствующего прерывания ($002...$008). При этом флаг прерывания 
аппаратно сбрасывается. Ряд флагов прерываний могут быть  
также сброшены записью «1» в разряд регистра, соответствующий 
флагу; 
-67- 
