Часть 2. Микроконтроллеры семейства Mega 
В противном случае разряд СРСЕ буден сброшен аппаратно по 
истечении четырех машинных циклов, запрещая дальнейшее изменение 
разрядов CLKPS3...0. 
Начальное состояние разрядов CLKPS3...0 определяется  
конфигурационной ячейкой CKDIV16. Если она не запрограммирована («1»), при  
запуске микроконтроллера в разрядах CLKPS3...0 содержится значение 
«0000». Если же ячейка CKDIV16 запрограммирована («0»), стартовым  
значением разрядов CLKPS3...0 является «0100» (коэффициент деления — 16). 
В микроконтроллерах ATmega64x и ATmegal28x управление тактовой 
частотой осуществляется немного иначе. В этих моделях для управления 
предцелителем тактового сигнала предназначен регистр ввода/вывода 
XDIV, расположенный по адресу $ЗС ($5С). Формат этого регистра  
приведен на Рис. 2.43. 
Рис.2.43. Формат регистра XDIV 
Старший разряд регистра (XDIVEN) служит для  
включения/выключения предцелителя тактового сигнала, а остальные разряды (XDIV6...0) 
определяют тактовую частоту микроконтроллера. Если обозначить  
содержимое разрядов XDFV6...0 как d, зависимость тактовой частоты от 
состояния этих разрядов будет определяться выражением 
FCLK= Частота генератора/A29 - d). 
Изменение разрядов XDFV6...0 возможно только при сброшенном  
разряде XDIVEN. При установке его в «1» тактовая частота микроконтроллера 
будет определяться выражением, приведенным выше. При сброшенном в 
«0» разряде XDIVEN содержимое разрядов XDIV6...0 игнорируется. 
10.3. Режимы пониженного энергопотребления 
Различные модели микроконтроллеров семейства поддерживают 3...6 
режимов пониженного энергопотребления (Табл. 2.42). Режимы  
отличаются числом периферийных устройств микроконтроллера,  
функционирующих в «спящем» режиме и степенью уменьшения энергопотребления. 
В зависимости от модели для управления «спящим» режимом  
используется различное число регистров ввода/вывода, которые сведены в 
Табл. 2.43. Форматы этих регистров приведены на Рис. 2.44...2.46  
(разряды, которые в данном случае не используются, вьщелены серым цветом). 
-210- 
