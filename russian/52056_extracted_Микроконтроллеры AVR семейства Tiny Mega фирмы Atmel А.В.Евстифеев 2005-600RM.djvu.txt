Глава 20. Описание команд 
RET 
Возврат из подпрограммы 
Операция 
Код операции 
Операнды 
Описание 
Регистр SREG 
Маш. циклов 
Tiny 
Пример 
SP = SP + 2;PC = STACK 
100101010000 1000 
1 слово B байта) 
Нет операндов 
Возврат из подпрограммы. Выполняет возврат в то место, откуда подпрограмма 
была вызвана 
I 
- 
T 
- 
н 
- 
S 
- 
V 
- 
N 
- 
Z 
- 
С 
- 
4 
Да 
rcall routine /Вызвать подпрограмму 
routine: 
push rl4 /Сохранить rl4 
pop rl4 /Восстановить г14 
ret /Возврат из подпрограммы 
RETI 
Возврат из подпрограммы обработки прерывания 
Операция 
Код операции 
Операнды 
Описание 
Регистр SREG 
Маш. циклов 
Гшу 
Пример 
SP = SP + 2;PC = STACK 
1001 0101 00011000 
1 слово B байта) 
Нет операндов 
Возврат из подпрограммы обработки прерывания. Выполняет возврат в то место, 
в котором выполнение программы было прервано в результате возникновения 
прерывания. 
Следует обратить внимание, что контекст программы (регистр состояния SREG) 
не сохраняется при вызове подпрограммы обработки прерывания и  
соответственно не восстанавливается при выходе из нее. В связи с этим сохранение и  
восстановление этого регистра необходимо выполнять самостоятельно 
I 
1 
T 
- 
н 
- 
S 
- 
V 
- 
N 
- 
Z 
- 
С 
- 
4 
Да 
extint: 
push r0 /Сохранить r0 
pop rO /Восстановить гО 
reti /Возврат из подпрограммы 
-449- 
