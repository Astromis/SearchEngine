Глава 5. Таймеры в микроконтроллерах 
тором недоступны остальные функции (кроме генерации  
прерываний). Режим генерации сигнала с ШИМ будем называть «режим 
ШИМ», а режим, в котором доступны остальные функции таймера/ 
счетчика — «режим таймера». 
Структурная схема таймера/счетчика Т1 приведена на Рис. 1.53. 
В его состав входят три 8-разрядных регистра (счетный регистр TCNT1 
и два регистра сравнения OCR1А и OCR1 В), два 8-разрядных  
компаратора, два управляющих регистра (регистр управления TCCR1 и регистр 
специальных функций SFIOR), а также блок управления таймером. 
Все флаги состояния таймера/счетчика (переполнения и  
совпадения) находятся в регистре флагов прерываний от таймеров TIFR. 
А разрешение и запрещение прерываний от таймера  
осуществляется установкой/сбросом соответствующих флагов регистра TIMSK. 
Рис. 1.53. Структурная схема таймера/счетчика Т1 (модель ATtinyl5L) 
Счетный регистр таймера/счетчика TCNT1, расположенный по  
адресу $2F, реализован как суммирующий счетчик и доступен в любой 
момент времени как для чтения, так и для записи. При записи в  
регистр TCNT1 во время работы таймера счет будет продолжен по сле- 
-91- 
