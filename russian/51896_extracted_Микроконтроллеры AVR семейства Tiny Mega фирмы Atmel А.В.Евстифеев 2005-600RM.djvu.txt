Глава 13. Таймеры 
13.6.1. Обращение к 16-разрядным регистрам 
Каждый 16-разрядный регистр таймеров/счетчиков физически  
размещается в двух 8-разрядных регистрах. Соответственно для обращения к ним 
требуется выполнить по две операции чтения или записи. Для того чтобы 
запись или чтение обоих байт содержимого 16-разрядного регистра  
происходила одновременно, в составе каждого таймера/счетчика имеется  
специальный 8-разрядный регистр TEMP, предназначенный для хранения  
старшего байта значения (этот регистр используется только процессором и 
программно недоступен). 
Для выполнения цикла записи 16-разрядного регистра первым должен 
быть загружен старший байт, который помещается в регистр TEMP. При 
последующей записи младшего байта он объединяется с содержимым  
регистра TEMP, и оба байта одновременно (в одном и том же машинном цикле) 
записываются в 16-разрядный регистр. Если требуется изменить несколько 
16-разрядных регистров таймера/счетчика, а старшие байты всех  
записываемых значений одинаковы, загрузку старшего байта достаточно  
выполнить только один раз. 
Для выполнения цикла чтения 16-разрядного регистра первым должен 
быть прочитан младший байт. При его чтении содержимое старшего байта 
помещается в регистр TEMP. При последующем чтении старшего байта  
возвращается значение, сохраненное в регистре TEMP. Исключение  
составляют только регистры сравнения OCR1 А/В/С (OCR3A/B/C), при чтении  
которых регистр TEMP не задействуется. 
При выполнении цикла обращения к 16-разрядному регистру  
таймера/счетчика прерывания должны быть запрещены. В противном случае,  
если прерывание произойдет между двумя командами обращения к  
16-разрядному регистру, а в подпрограмме обработки этого прерывания тоже будет 
произведено обращение к какому-либо из 16-разрядных регистров того же 
таймера/счетчика, содержимое регистра TEMP будет изменено. Как  
следствие, результат обращения к 16-разрядному регистру в основной программе 
будет неверным. 
13.6.2. Управление тактовым сигналом 
Формирование тактового сигнала таймера/счетчика clkT,/clkT3  
осуществляется блоком предделителя, который был рассмотрен в параграфе 6.4 этой 
главы. 
В качестве тактового сигнала clkT,(clkT3) таймеров/счетчиков Т1 и ТЗ  
может использоваться (см. Рис. 2.67, а): 
• системный тактовый сигнал (clkT1(T3) = clkI/0); 
-287- 
