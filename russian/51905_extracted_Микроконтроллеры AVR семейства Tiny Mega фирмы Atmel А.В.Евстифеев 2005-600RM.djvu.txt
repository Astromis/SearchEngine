Часть 2. Микроконтроллеры семейства Mega 
соотеетствующий флаг OCF1A/OCF1B/OCF1C (OCF3A/OCF3B/OCF3C) 
регистра TIFR. Одновременно изменяется состояние выхода блока  
сравнения ОСяА/ОСяВ/ОСлС. Как обычно, поведение вывода определяется  
содержимым разрядов С0МлЛ1:С0МлЮ регистров TCCR1A (TCCR3A) 
(Табл. 2.99). Временные диаграммы для случая, когда модуль счета 
определяется содержимым регистра ICR/iA или OCR#A, показаны на 
Рис. 2.82. 
Таблица 2.99. Поведение вывода ОС1А/ОС1В/ОС1С (ОСЗА/ОСЗВ/ОСЗС) в 
режиме Phase Correct PWM 
СОМлА1/СОМлВ1/ 
СОМлС1 
0 
0 
1 
1 
СОМлАО/СОМлВО/ 
СОМяСО 
0 
1 
0 
1 
Описание 
Таймер/счетчик Тл отключен от вывода 
ОСлА/ОСлВ/ОСлС 
WGMa?3 = «0»: таймер/счетчик Тл  
отключен от вывода ОСлА/ОСлВ/ОСлС*; 
WGM«3 = «1»: состояние вывода ОСлА 
меняется на противоположное 
Сбрасывается в «0» при прямом счете и  
устанавливается в «1» при обратном счете 
(неинвертированный ШИМ-сигнал) 
Устанавливается в «1» при прямом счете и 
сбрасывается в «0» при обратном счете 
(инвертированный ШИМ-сигнал) 
* Также для моделей ATmega 161х/163х/323х. 
Примечание: п = 1 или 3. 
Следует понимать, что при изменении модуля счета во время работы 
таймера/счетчика, на выходе блоков сравнения могут появиться  
несимметричные (относительно середины периода модуляции) импульсы. Поскольку 
обновление содержимого регистра сравнения происходит в момент  
достижения счетчиком максимального значения, период ШИМ-сигнала равен 
времени между этими моментами. При этом время обратного счета  
определяется предыдущим значением модуля счета, а время прямого счета —  
новым значением. Если эти значения различны, то время прямого и обратного 
счета также отличаются. Результатом этого и являются несимметричные  
импульсы на выходе блоков сравнения, как показано на Рис. 2.82 C-й период 
сигнала). 
-296- 
