Часть 4. Программирование микроконтроллеров семейств Tiny и Mega 
Программирование осуществляется путем посылки 4-байтных 
командна вывод MOSI микроконтроллера. Результат выполнения 
команд чтения снимается с вывода MISO микроконтроллера. 
Передача команд и выдача результатов их выполнения осуществляется 
от старшего разряда к младшему. При этом «защелкивание» входных 
данных выполняется по нарастающему фронту сигнала SCK, а  
«защелкивание» выходных данных — по спадающему (см. Рис. 4.6 и Рис. 4.7). 
Рис. 4.7. Передача данных при программировании 
по последовательному каналу 
Формат команд, используемых в этом режиме для  
программирования различных микроконтроллеров семейства, приведен в Табл. 4.16. 
23.2. Переключение в режим программирования 
Переключение микроконтроллера в режим программирования по 
последовательному каналу выполняется в следующем порядке: 
1. Подать на микроконтроллер напряжение питания, при этом 
на выводах SCK и RESET должно присутствовать напряжение 
НИЗКОГО уровня. В некоторых случаях (если программатор 
не гарантирует установку сигнала SCK в «О» при подаче питания) 
после установки сигнала SCK в «О» необходимо подать на вывод 
RESET положительный импульс длительностью не менее двух 
периодов тактового сигнала микроконтроллера. 
В моделях ATmega64x и ATmegal28x напряжение НИЗКОГО 
уровня можно подавать на вывод REN вместо вывода RESET. 
Однако это возможно только в том случае, если программатор 
гарантирует удержание сигнала SCK в «О» при подаче питания. 
Кроме того, при использовании этого метода необходимо после 
программирования снять напряжение питания с  
микроконтроллера, чтобы он затем смог работать в нормальном 
режиме. 
-492- 
