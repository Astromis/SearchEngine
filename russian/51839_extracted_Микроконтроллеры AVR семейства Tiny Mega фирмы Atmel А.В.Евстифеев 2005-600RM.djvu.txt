Глава 11. Прерывания 
11.1. Общие сведения 
Прерывание прекращает нормальный ход программы для выполнения 
приоритетной задачи, определяемой внутренним или внешним событием 
микроконтроллера. При возникновении прерывания микроконтроллер  
сохраняет в стеке содержимое счетчика команд PC и загружает в него адрес  
соответствующего вектора прерывания. По этому адресу, как правило,  
находится команда безусловного перехода к подпрограмме обработки 
прерывания. Последней командой подпрограммы обработки прерывания 
должна быть комавда RETI, которая обеспечивает возврат в основную  
программу и восстановление предварительно сохраненного счетчика команд. 
Поскольку источниками прерываний, в частности, являются различные 
периферийные устройства микроконтроллеров, количество прерываний  
зависит от конкретной модели. 
11.2. Таблица векторов прерываний 
Как и все микроконтроллеры AVR, микроконтроллеры семейства Mega 
имеют многоуровневую систему приоритетных прерываний. Младшие 
адреса памяти программ начиная с адреса $0001 (модели ATmega8x и 
ATmega8515x) и $0002 (остальные модели) отведены под таблицу векторов 
прерывания. Каждому прерыванию соответствует адрес в этой таблице, 
который загружается в счетчик команд при возникновении прерывания. 
Положение вектора в таблице также определяет и приоритет 
соответствующего прерывания: чем меньше адрес, тем выше приоритет 
прерывания. Размер вектора прерывания зависит от объема памяти 
программ микроконтроллера и составляет 1 байт для моделей ATmega8x и 
ATmega8515x и 2 байта для остальных моделей. Соответственно для  
перехода к подпрограммам обработки прерываний в моделях микроконтроллеров 
-230- 
