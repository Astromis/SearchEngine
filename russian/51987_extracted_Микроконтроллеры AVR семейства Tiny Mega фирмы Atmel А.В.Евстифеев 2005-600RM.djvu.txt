Часть 2. Микроконтроллеры семейства Mega 
Продолжение таблицы 2.147 
Код статуса 
$80 
$88 
$90 
Состояние 
шины и 
модуля TWI 
Устройство 
уже  
адресовано: 
был принят 
байт данных и 
послано  
подтверждение 
(АСК) 
Устройство 
уже  
адресовано: 
был принят 
байт данных и 
послано  
 
подтверждение (NACK) 
Устройство 
уже  
адресовано (общий  
вызов): 
был принят 
байт данных и 
послано  
подтверждение 
(АСК) 
Действия программы 
в/из 
TWDR 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
в регистр 
TWCR 
STA 
X 
X 
0 
0 
1 
1 
X 
X 
STO 
0 
0 
0 
0 
0 
0 
0 
0 
TWINT 
1 
1 
1 
1 
1 
1 
1 
1 
TWEA 
0 
1 
0 
1 
0 
1 
0 
1 
Следующее действие, 
выполняемое модулем TWI 
Будет принят байт данных и передано  
неподтверждение (NACK) 
Будет принят байт данных и передано  
подтверждение (АСК) 
Переключиться в режим неадресованного ведомого; 
распознавание любых вызовов отключено 
Переключиться в режим неадресованного ведомого; 
разрешено распознавание SLA с собственным  
адресом; разрешено распознавание общих вызовов, если 
TWGCE = «1» 
Переключиться в режим неадресованного ведомого; 
распознавание любых вызовов запрещено; после  
освобождения шины будет сформировано 
состояние СТАРТ 
Переключиться в режим неадресованного ведомого; 
разрешено распознавание SLA с собственным 
адресом; разрешено распознавание общих вызовов, 
если TWGCE = «1»; после освобождения шины 
будет сформировано состояние СТАРТ 
Будет принят байт данных и передано  
неподтверждение (NACK) 
Будет принят байт данных и передано  
подтверждение (АСК) 
-380- 
