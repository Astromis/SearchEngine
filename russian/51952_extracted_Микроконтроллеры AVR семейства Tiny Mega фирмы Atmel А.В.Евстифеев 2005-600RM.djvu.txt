Глава 16. Универсальный асинхронный приемопередатчик 
(Рис. 2.102, б). Состоянием разряда считается логическое значение, 
которое было получено по меньшей мере в двух из трех выборок. Процесс 
распознавания повторяется для всех разрядов принимаемого кадра, 
включая первый стоп-бит. 
Из сказанного следует, что старт-бит нового кадра может передаваться 
сразу же после последней выборки, используемой для определения  
значения разряда. В обычном режиме работы формирование старт-бита может 
начаться в момент А, а в ускоренном режиме — в момент В (Рис. 2.103). 
Момент С, обозначенный на рисунке, определяет максимальную 
длительность стоп-бита. 
Рис. 2.103. Распознавание стоп-бита и последующего старт-бита 
16.3. Мультипроцессорный режим работы 
Режим мультипроцессорного обмена позволяет осуществлять связь  
между несколькими ведомыми микроконтроллерами и одним ведущим. В этом 
режиме каждый ведомый микроконтроллер имеет свой уникальный адрес. 
Если ведущий микроконтроллер хочет что-либо передать, он посылает  
адресный байт, определяющий, к какому из микроконтроллеров он  
собирается обратиться. Если какой-либо из ведомых микроконтроллеров распознал 
свой адрес, он переходит в режим приема данных и соответственно  
принимает последующие байты как данные. Остальные ведомые  
микроконтроллеры игнорируют принимаемые байты до посылки ведущим нового  
адресного байта. Включение режима фильтрации принимаемых кадров, не 
содержащих адреса, осуществляется установкой в «1» разряда МРСМ 
(МРСМл) регистра UCSRA (UCSRM). 
В микроконтроллере, выполняющем роль ведущего, должен быть  
установлен режим передачи 9-разрядных данных. При передаче адресного байта 
старший разряд должен устанавливаться в «1», а при передаче байтов  
данных он должен сбрасываться в «0». 
В ведомых микроконтроллерах механизм приема зависит от режима 
работы приемника. Если приемник настроен на прием 5...8-разрядных 
данных, то идентификация содержимого кадра (адрес/данные)  
осуществляется по 1-му стоп-биту. При приеме 9-разрядных данных идентификация 
содержимого кадра осуществляется по старшему разряду слова данных. 
-345- 
