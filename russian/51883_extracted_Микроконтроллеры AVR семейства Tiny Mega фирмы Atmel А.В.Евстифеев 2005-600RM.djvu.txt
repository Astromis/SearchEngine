Часть 2. Микроконтроллеры семейства Mega 
Рис. 2.72. Формирование ШИМ-сигнала в режиме Fast PWM 
Частота генерируемого сигнала f0Cn =./cik_i/o/256/V, где N —  
коэффициент деления предделителя (см. Табл. 2.80). 
Отдельно следует рассмотреть случаи, когда в регистре сравнения  
находятся предельно возможные значения ($00 и $FF). В первом случае, если  
содержимое регистра сравнения OCR0 (OCR2) равно $00, на выходе ОС0 
(ОС2) при каждом 256-м такте сигнала clkT0 (clkT2) будут наблюдаться  
короткое выбросы. Если же содержимое регистра сравнения OCR0 (OCR2) равно 
$FF, то вывод ОС0 (ОС2) переключится в устойчивое состояние,  
определяемое установками разрядов СОМ01 :СОМ00 (СОМ21:СОМ20). 
13.5.2.4. Режим Phase Correct PWM 
Режим Phase Corect PWM («ШИМ с точной фазой»), как и режим Fast 
PWM, предназначен для генерации сигналов с широтно-импульсной  
модуляцией. Однако в этом режиме счетный регистр функционирует как  
реверсивный счетчик, изменение состояния которого осуществляется по каждому 
импульсу тактового сигнала clkT0 (clkT2). Состояние счетчика сначала  
изменяется от $00 до $FF, а затем обратно до $00. Соответственно максимальная 
частота сигнала в этом режиме в два раза меньше максимальной частоты 
сигнала в режиме Fast PWM. Тем не менее, благодаря «симметричности»  
изменения состояния счетчика, режим Phase Correct PWM предпочтительнее 
использовать для решения задач управления двигателями. 
При достижении счетчиком максимального ($FF) значения происходит 
смена направления счета, но счетчик остается в этом состоянии в течение 
-274- 
