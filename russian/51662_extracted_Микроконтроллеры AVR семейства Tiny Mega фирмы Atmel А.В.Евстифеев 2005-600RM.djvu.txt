Глава 3. Устройство управления микроконтроллеров 
Таблица 1.12. Параметры внешней RС-цепочки для «типовых» частот 
R [кОм] 
100 
31.5 
6.5 
С[пФ] 
70 
20 
20 
100 
1000 
4000 
Использование встроенного генератора с внутренней /?С-цепочкой 
является наиболее экономичным решением, т. к. при этом не  
требуются внешние компоненты и не задействуются контакты ввода/вывода. 
Вместе с тем это решение пригодно только для приложений, не  
требующих высокой временной точности. 
Номинальные частоты встроенного /?С-генератора для различных 
моделей приведены в Табл. 1.13. 
Таблица 1.13. Номинальные частоты встроенного RС-генератора 
Модель 
ATtinyllx 
ATtinyl2x 
ATtinyl5L 
ATtiny28x 
Частота [к1Щ 
1100 
1200 
1600 
1200 
Все микроконтроллеры за исключением моделей ATtinyllx  
позволяют подстраивать (калибровать) частоту генератора. Дело в том, что 
действительная частота генератора, получаемая при изготовлении 
микросхемы, может отличаться от экземпляра к экземпляру. Отсюда и 
возникает необходимость в подстройке генератора для достижения  
номинальной частоты. 
Для подстройки генератора предназначен регистр OSCCAL,  
расположенный по адресу $31 в моделях ATtinyl2x, ATtinyl5L и по адресу 
$00 для моделей ATtiny28x. Чем больше значение, записанное в этом 
регистре, тем больше частота генератора. 
Значение, необходимое для подстройки генератора на  
номинальную частоту (с точностью ±1%), записывается при изготовлении  
микроконтроллера в специальную калибровочную ячейку. Содержимое 
этой ячейки доступно только в режиме программирования  
микроконтроллеров. Соответственно программатор должен считать содержимое 
этой ячейки и записать его в заранее определенное место FLASH-na- 
мяти программ (как правило, в последнюю ячейку). А в самом начале 
программы следует прочитать содержимое по этому адресу и записать 
его в регистр OSCCAL. 
Следует помнить, что встроенный генератор предназначен для  
работы на номинальной частоте. Поэтому подстройка на другие частоты 
-51- 
