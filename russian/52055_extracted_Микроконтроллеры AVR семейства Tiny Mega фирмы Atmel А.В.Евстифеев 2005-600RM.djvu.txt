Часть 3. Команды микроконтроллеров семейств Tiny и Mega 
PUSHRr 
Сохранение байта в стеке 
Операция 
Код операции 
Операнды 
Описание 
Регистр SREG 
Маш. циклов 
Tiny 
Пример 
STACK = Rr, SP = SP - 1 
1001 OOlrrrrr 1111 
1 слово B байта) 
0<г<31 
Сохраняет содержимое регистра общего назначения Rr в стеке 
I 
- 
Т 
- 
н 
- 
S 
- 
V 
- 
N 
- 
Z 
- 
С 
- 
2 
Нет 
call routine ;Вызов подпрограммы 
routine: 
push rl4 ;Сохранить г14 в стеке 
push rl5 ;Сохранить г15 в стеке 
pop rl5 ;Восстановить г15 из стека 
pop rl4 восстановить г14 из стека 
ret /Возврат из подпрограммы 
RCALLk 
Относительный вызов подпрограммы 
Операция 
Код операции 
Операнды 
Описание 
Регистр SREG 
Маш. циклов 
Tiny 
Пример 
STACK = PC+l;PC = PC + k+l;SP = SP-2 
1101 kkkkkkkkkkkk 
1 слово B байта) 
- 2047 <k< 2047 
Относительный вызов подпрограммы. Выполняет переход к подпрограмме, адрес 
которой получается сложением содержимого счетчика команд с константой к. 
Адрес следующей за RCALL команды B байта) сохраняется в стеке. 
На практике вместо числовых значений смещения указываются метки  
подпрограмм (см. пример) 
I 
- 
Т 
- 
н 
- 
S 
- 
V 
- 
N 
- 
Z 
- 
С 
- 
3 
Да 
rcall routine ;Вызвать подпрограмму 
routine: 
push r 14 ,-Сохранить г 14 
pop rl4 /Восстановить г14 
ret /Возврат из подпрограммы 
-448- 
