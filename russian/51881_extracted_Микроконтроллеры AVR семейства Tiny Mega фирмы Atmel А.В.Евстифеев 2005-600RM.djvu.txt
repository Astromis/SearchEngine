Часть 2. Микроконтроллеры семейства Mega 
Рис. 2.71. Временные диаграммы для режима СТС 
При достижении счетчиком максимального значения устанавливается 
флаг OCFO (OCF2) регистра TIFR. Одновременно с установкой флага  
может изменяться состояние вывода ОСО (ОС2) микроконтроллера.  
Поведение вывода определяется разрядами СОМ01:СОМ00 (СОМ21:СОМ20)  
регистра TCCRO (TCCR2), как указано в Табл. 2.83. 
Таблица 2.83. Управление выводом ОСО (ОС2) в режиме СТС 
СОМл1 
0 
0 
1 
1 
СОМлО 
0 
1 
0 
1 
Описание 
Таймер/счетчик Тл отключен от вывода ОСл 
Состояние вывода меняется на противоположное 
Вывод сбрасывается в «0» 
Вывод устанавливается в «1» 
Примечание: п = 0 или 2. 
Для генерации сигнала заданной частоты необходимо записать в разряды 
СОМ01:СОМ00 (СОМ21:СОМ20) значение «01» (переключение состояния 
вывода). Частота генерируемого сигнала будет определяться выражением 
focn =Ус1к_1/о/2АгA + OCR/*), где N — коэффициент деления предделителя 
(см. Табл" 2.80). 
При необходимости состояние вывода ОСО (ОС2) может быть изменено 
принудительно, записью лог. 1 в разряд FOC0 (FOC2) регистра TCCR0 
(TCCR2). Прерывание при этом не генерируется и сброса счетного регистра 
не производится. 
-272- 
