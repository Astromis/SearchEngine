Часть 4. Программирование микроконтроллеров семейств Tiny и Mega 
ется с помощью регистра ввода/вывода SPMCR (Store Program Memory 
Control Register). Во всех моделях, за исключением ATmega64x/128x, 
этот регистр расположен по адресу $37 ($57). В микроконтроллерах 
регистр ATmega64x/128x этот регистр расположен в пространстве 
дополнительных регистров ввода/вывода по адресу ($68). Формат 
этого регистра для различных моделей семейства показан на Рис. 4.18, 
а описание его разрядов приведено в Табл. 4.26. 
Таблица 4.26. Разряды регистра SPMCR 
Разряд 
7 
6 
5 
4 
SPMIE 
- 
ASB 
RWWSB 
- 
- 
ASRE 
RWWSRE 
Описание 
Разрешение прерывания SPM. Если в этом разряде записана лог. 1 
и флаг I регистра SREG также установлен в «1», то разрешается 
прерывание готовности SPM. Прерывание генерируется все время, 
пока разряд SPMEN регистра сброшен в «0». 
Зарезервировано, читается как «0» 
Запрещен доступ к секции прикладной программы. Этот флаг  
показывает возможность обращения по адресам, расположенным в  
секции прикладной программы. Если флаг установлен в «1», доступ 
к этой секции запрещен, если сброшен в «0» — разрешен.  
Установка этого флага осуществляется аппаратно при выполнении  
операций записи или стирания страницы памяти. Сброс флага  
осуществляется либо программно, записью лог. 1 в разряд ASRE 
по окончании операции, либо аппаратно, при запуске операции 
загрузки страницы 
Запрещен доступ к области RWW. Этот флаг показывает  
возможность обращения по адресам, расположенным в области RWW. 
Если флаг установлен в «1», доступ к области RWW запрещен, если 
сброшен в «0» — разрешен. Установка этого флага осуществляется 
аппаратно при выполнении операций записи или стирания 
страницы памяти. Сброс флага осуществляется либо программно, 
записью лог. 1 в разряд RWWSRE по окончании операции, либо 
аппаратно, при запуске операции загрузки страницы 
Зарезервировано, читается как «0» 
Зарезервировано, читается как «0» 
Чтение секции прикладной программы разрешено. Одновременная 
установка этого разряда и разряда SPMEN позволяет разрешить 
доступ к секции прикладной программы. Разрешение доступа  
осуществляется командой SPM, запущенной в течение 4-х машинных 
циклов после установки указанных разрядов 
Чтение области RWW разрешено. Одновременная установка этого 
разряда и разряда SPMEN позволяет разрешить доступ к области 
RWW. Разрешение доступа к этой области осуществляется  
запуском команды SPM в течение 4-х машинных циклов после  
установки указанных разрядов. Разрешение доступа к области RWW может 
осуществляться только после завершения операции  
программирования (после сброса флага SPMEN) 
Примечание 
Кроме 
ATmegal61x 
ATmegal63x 
ATmega323x 
ATmegal61x 
ATmegal63x 
ATmega323x 
ATmega8x 
ATmega8515x 
ATmegal6x 
ATmega64x 
ATmega64x 
ATmegal28x 
Все модели 
ATmegal61x 
ATmegal63x 
ATmega323x 
ATmega8x 
ATmega8515x 
ATmegal6x 
ATmega64x 
ATmega64x 
ATmegal28x 
-532- 
