Глава 14. Аналоговый компаратор 
14.1. Введение 
Модуль аналогового компаратора входит в состав всех без исключения 
микроконтроллеров семейства Mega. Будучи включенным, компаратор  
позволяет сравнивать значения напряжений, присутствующих на двух выводах 
микроконтроллера. Результатом сравнения является логическое значение, 
которое может быть прочитано из программы. По результату сравнения  
может быть сгенерировано прерывание, а также осуществлен захват состояния 
таймера/счетчика Т1. Последняя функция позволяет, в частности, измерять 
длительности аналоговых сигналов. 
Используемые компаратором выводы являются контактами портов  
ввода/вывода общего назначения (см. Табл. 2.107). 
Таблица 2.107. Выводы, используемые аналоговым компаратором 
Название 
Назначение 
AIN0 
PD6 
РВ2 
РВ2 
РВ2 
РВ2 
РВ2 
РВ2 
РВ2 
РВ2 
РЕ2 
Неинвертирующий вход 
AIN1 
PD7 
РВЗ 
РВЗ 
РВЗ 
РВЗ 
РВЗ 
РВЗ 
РВЗ 
РВЗ 
РЕЗ 
Инвертирующий вход 
Чтобы указанные выводы могли использоваться аналоговым  
компаратором, они должны быть сконфигурированы как входы (соответствующий 
разряд регистра DDR* установлен в «1»). Кроме того, необходимо  
отключить внутренние подтягивающие резисторы записью лог. 0 в  
соответствующий разряд регистра PORTx. 
-305- 
ATmega8\ 
Altaega8515x 
ATmegal6x 
ATmegal61x 
ATmegal62x 
ATmegal63x 
A1taega32x 
Altaega323x 
ATmega64x 
ATmegal28x 
