Часть 1. Микроконтроллеры семейства Tiny 
Следует помнить, что если вывод используется каким-либо  
периферийным устройством микроконтроллера, то соответствующие этому 
выводу разряды регистров DDRB и PORTB должны быть установлены 
в соответствии с дополнительной функцией вывода. В то же время для 
выводов, используемых как вывод сброса или для подключения  
внешнего резонатора, содержимое соответствующих разрядов этих  
регистров игнорируется. 
Теперь рассмотрим конфигурирование портов ввода/вывода в  
микроконтроллерах ATtiny28x. 
Порт А 
Это 4-разрядный порт с двунаправленными выводами РАЗ, РА1 и 
РАО и однонаправленным (только выход) выводом РА2. Управление 
выводом осуществляется с помощью регистра управления PACR,  
формат которого приведен на Рис. 1.47. 
Рис. 1.47. Формат регистра РАСR моделей ATtiny28x 
Состояние разрядов DDA3, DDA1 и DDA0 определяет  
направление передачи данных через соответствующий вывод порта. Если  
разряд установлен в «1», вывод работает как выход. Если же разряд  
сброшен в «О», вывод работает как вход. 2-й разряд регистра (РА2НС) 
управляет нагрузочной способностью выхода РА2, который  
предназначен специально для управления светодиодным индикатором. Если 
разряд сброшен в «О», максимальная нагрузочная способность вывода 
составляет 15 мА (при Vcc - 1.8 В). При записи в этот разряд «1» к  
выходу подключается дополнительный драйвер, и максимальная  
нагрузочная способность увеличивается до 25 мА при Vcc = 1.8 В. 
Управление внутренними подтягивающими резисторами для  
выводов РАЗ, РА1 и РАО осуществляется с помощью регистра данных PORTA. 
Если вывод является входом, то при установке в «1» соответствующего 
ему разряда РСЖТАя между выводом и шиной питания подключается 
внутренний подтягивающий резистор. При сбросе этого разряда в «О» 
или при переключении вывода в режим выхода подтягивающий  
резистор отключается. Возможные конфигурации выводов порта такие же, 
как и в младших моделях семейства (см. Табл. 1.31, х — А). 
-80- 
