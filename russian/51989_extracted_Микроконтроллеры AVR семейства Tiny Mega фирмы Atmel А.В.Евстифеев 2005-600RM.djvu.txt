Часть 2. Микроконтроллеры семейства Mega 
Прием своего 
адреса и одного 
или нескольких байт 
данных Все посылки 
подтверждены 
Последний принятый 
байт не подтвержден 
Потеря приоритета 
в режиме ведущего и 
адресация в качестве 
ведомого 
Прием адреса общего 
вызова и одного или 
нескольких байт данных 
Последний принятый 
байт не подтвержден 
Потеря приоритета 
в режиме ведущего и 
адресация в качестве 
ведомого 
S — состояние СТАРТ 
Rs — состояние ПОВСТАРТ 
Р — состояние СТОП 
R —запрос на чтение («1») 
W — запрос на запись («О») 
А — бит подтверждения («О») 
А — бит неподтверждения («1») 
SLA — адрес ведомого устройства 
От ведущего к ведомому 
От ведомого к ведущему 
Один или несколько байт данных 
с соответствующими битами подтверждения 
- момент установки флага TWINT, где 
п — код статуса в регистре TWSR 
Рис. 2.125. Состояния модуля TWI в режиме «Ведомый приемник» 
18.5.4. Режим «Ведомый передатчик» 
В режиме «Ведомый передатчик» ведомое устройство осуществляет  
передачу данных ведущему, который в этом случае является приемником. Перед 
тем как переключить модуль в этот режим, следует занести в старшие  
разряды регистра TWAR адрес устройства и в соответствии с логикой работы  
программы установить или сбросить младший разряд регистра (TWGCE). 
Затем необходимо записать в регистр TWCR следующее значение: 
-382- 
