Глава 4. Порты ввода/вывода 
Вывод РА2 микроконтроллера может управляться не только  
программно (посредством регистра PORTA), но и аппаратно. Для  
аппаратного управления состоянием этого вывода в составе  
микроконтроллеров ATtiny28x имеется специальное периферийное устройство, 
называемое аппаратным модулятором (Hardware Modulator).  
Подробно об этом устройстве будет рассказано в следующем параграфе. 
Порт В 
Все выводы порта В могут работать только как входы,  
соответственно пользователь может управлять только подключением или  
отключением внутренних подтягивающих резисторов (одновременно 
для всех выводов порта). Для этой цели служит 7-й разряд (PLUPB)  
регистра MCUSR (см. подраздел 2.2.2.2). 
Если этот разряд установлен в «1», внутренние подтягивающие  
резисторы на всех входах порта В подключены, если сброшен —  
отключены. При использовании какого-либо вывода порта периферийным 
устройством соответствующий подтягивающий резистор отключается 
автоматически независимо от состояния разряда PLUPB. 
ПортБ 
Порт D является обыкновенным 8-разрядным портом  
ввода/вывода с подключаемыми внутренними подтягивающими резисторами. 
Управление выводами порта осуществляется также, как и управление 
выводами РА4, РА2 и РА1 порта А. Направление передачи данных  
определяется содержимым регистра направления данных DDRD, а 
управление внутренними подтягивающими резисторами  
осуществляется индивидуально для каждого вывода с помощью регистра данных 
PORTD. В регистрах PORTD, PIND и DDRD задействованы все  
разряды, поскольку порт D 8-разрядный. Все возможные конфигурации 
выводов порта D приведены в Табл. 1.31 (х — D). 
Максимальная нагрузочная способность выходов порта D  
составляет 10 мА. 
4.4. Аппаратный модулятор 
Аппаратный модулятор (Hardware Modulator) предназначен для 
управления выводом РА2 микроконтроллеров ATtiny28x.  
Единственной задачей модулятора является генерирование последовательности 
импульсов с заданными параметрами. 
Структурная схема блока аппаратного модулятора приведена на 
Рис. 1.48. 
-81- 
