Глава 18.Последовательный двухпроводный интерфейс 
Продолжение таблицы 2.147 
Код статуса 
$98 
$А0 
Состояние 
шины и 
модуля TWI 
Устройство 
уже  
адресовано (общий  
вызов): 
был принят 
байтданных и 
послано  
 
подтверждение (NACK) 
Было  
обнаружено  
состояние СТАРТ 
или 
ПОВСТАРТв 
то время,  
когда  
устройство было  
адресовано в 
качестве  
ведомого 
Действия программы 
в/из 
TWDR 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
Считать 
данные 
в регистр 
TWCR 
STA 
0 
0 
1 
1 
0 
0 
1 
1 
STO 
0 
0 
0 
0 
0 
0 
0 
0 
TWINT 
1 
1 
1 
1 
1 
1 
1 
1 
0 
1 
0 
1 
0 
1 
0 
1 
Следующее действие, 
выполняемое модулем TWI 
Переключиться в режим неадресованного ведомого; 
распознавание любых вызовов отключено 
Переключиться в режим неадресованного ведомого; 
разрешено распознавание SLA с собственным  
адресом; разрешено распознавание общих вызовов, если 
TWGCE = «1» 
Переключиться в режим неадресованного ведомого; 
распознавание любых вызовов запрещено; после  
освобождения шины будет сформировано состояние 
СТАРТ 
Переключиться в режим неадресованного ведомого; 
разрешено распознавание SLA с собственным  
адресом; разрешено распознавание общих вызовов, если 
TWGCE = «1»; после освобождения шины будет 
сформировано состояние СТАРТ 
Переключиться в режим неадресованного ведомого; 
распознавание любых вызовов отключено 
Переключиться в режим неадресованного ведомого; 
разрешено распознавание SLA с собственным  
адресом; разрешено распознавание общих вызовов, если 
TWGCE = «1» 
Переключиться в режим неадресованного ведомого; 
распознавание любых вызовов запрещено; после  
освобождения шины будет сформировано состояние 
СТАРТ 
Переключиться в режим неадресованного ведомого; 
разрешено распознавание SLA с собственным  
адресом; разрешено распознавание общих вызовов, если 
TWGCE = «1»; после освобождения шины будет 
сформировано состояние СТАРТ 
-381- 
