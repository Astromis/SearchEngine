Глава 10. Тактирование, режимы энергопотребления и сброс 
10.2.6. Управление тактовой частотой 
Ряд моделей семейства, а именно ATmegal62x, ATmega64x и ATmegal28x 
имеют возможность программного уменьшения частоты сигнала,  
поступающего от тактового генератора. Понятно, что одновременно с  
уменьшением тактовой частоты уменьшаются частоты сигналов clkcPU, clkI/0, clkFLASH, 
clkADC, т. е. замедляется работа всех периферийных устройств  
микроконтроллера. Если асинхронный таймер/счетчик работает в синхронном режиме, то 
соответствующим образом изменяется и частота сигнала clkASY. 
В моделях ATmegal62x для управления предцелителем тактового сигнала 
предназначен регистр CLKPR, расположенный по адресу ($61) в  
пространстве дополнительных регистров ввода/вывода. Формат этого регистра  
приведен на Рис. 2.42. 
Рис. 2.42. Формат регистра CLKPR 
Старший разряд (СРСЕ) служит для разрешения изменения частоты 
тактового сигнала, а разряды CLKPS3...CLKPS0 задают коэффициент  
деления предделителя (Табл. 2.41). 
1а0лица2.41. 
CLKPS3 
0 
0 
0 
0 
0 
0 
0 
0 
1 
1 
1 
Выбор коэффициента деления предделителя частоты тактового 
сигнала 
CLKPS2 
0 
0 
0 
0 
1 
1 
1 
1 
0 
0 
CLKPS1 
0 
0 
1 
1 
0 
0 
1 
1 
0 
0 
CLKPS0 
0 
1 
0 
1 
0 
1 
0 
1 
0 
1 
1 
Коэффициент деления 
1 
2 
4 
8 
16 
32 
64 
128 
256 
Зарезервировано 
Для изменения содержимого разрядов CLKPS3...0 следует записать 
в разряд СРСЕ лог. 1, а в разряды CLKPS3...0 — лог. 0. Затем в течение 
следующих четырех машинных циклов занести требуемое значение в  
разряды CLKPS3...0, при этом разряд СРСЕ будет сброшен в «0». 
-209- 
