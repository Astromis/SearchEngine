Часть 2. Микроконтроллеры семейства Mega 
Внешний сигнал, поступающий на вход Тп (п = 0...3)  
микроконтроллера, прежде чем поступить на вход селектора тактового сигнала проходит  
через специальный узел, включающий схему синхронизации и детектор 
фронта. 
Синхронизация внешнего сигнала осуществляется с частотой тактового 
генератора микроконтроллера (состояние вывода Т1 считывается по  
нарастающему фронту тактового сигнала clk,/0). Поэтому частота внешнего  
сигнала должна быть в 2 раза меньше частоты тактового сигнала  
микроконтроллера (/*ЕХТ < Ус1к_1/о/2). Однако, чтобы гарантировать обнаружение фронтов 
внешнего сигнала во всем диапазоне возможных изменений частоты и 
скважности тактового сигнала микроконтроллера (из-за разброса  
параметров элементов тактового генератора), частота внешнего сигнала должна 
быть еще меньше — /clkJ/o/2.5. 
Также следует понимать, что входной каскад вносит задержку  
между изменением состояния вывода и обновлением счетного регистра 
таймера/счетчика. Величина задержки составляет 2.5...3.5 машинных 
цикла. 
13.5. Таймеры/счетчики ТО и Т2 
Восьмиразрядный таймер/счетчик ТО присутствует во всех моделях  
микроконтроллеров семейства Mega, а таймер/счетчик Т2 — во всех, кроме 
ATmega8515x. Всего в микроконтроллерах семейства реализовано три  
исполнения восьмиразрядных таймеров/счетчиков, отличающихся набором 
выполняемых функций. Структурные схемы всех трех вариантов приведены 
на Рис. 2.69, а функции, которые они могут выполнять, перечислены 
в Табл. 2.76 и Табл. 2.77. 
В состав таймеров/счетчиков первого исполнения (ТО в моделях 
ATmega8x и ATmegal63x) входят два регистра ввода/вывода: счетный 
регистр TCNT0 и регистр управления TCCR0. В состав  
таймеров/счетчиков второго исполнения (ТО в моделях ATmega8515x, 
ATmegal6x, ATmegal61x, ATmegal62x, ATmega32x, ATmega323x и Т2 
в моделях ATmega64x и ATmegal28x) входят уже 3 регистра  
ввода/вывода: счетный регистр TCNTO (TCNT2), регистр управления TCCR0 
(TCCR2) и регистр сравнения OCRO (OCR2). В третьем исполнении 
(ТО в моделях ATmega64x/128x и Т2 в остальных моделях)  
добавляется регистр ASSR, служащий для управления модулем  
таймера/счетчика в асинхронном режиме. Адреса всех перечисленных регистров 
указаны в Табл. 2.78. 
-264- 
