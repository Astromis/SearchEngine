Глава 4. Порты ввода/вывода 
Разумеется, состояние выхода РА2 может определяться не только 
аппаратным модулятором. Все возможные условия  
функционирования выхода РА2 приведены в Табл. 1.34. 
Таблица 1.34. Функционирование выхода РА2 
PORTA2 
0 
0 
1 
MCONF2...MCONF0 
000 
001...111 
X 
Состояние выхода РА2 
0 
Определяется модулятором 
1 
Аппаратный модулятор имеет еще одну полезную функцию.  
Помимо управления состоянием вывода РА2 микроконтроллера, выходной 
сигнал аппаратного модулятора может использоваться в качестве  
входного для предделителя таймера/счетчика ТО. В этом случае таймер/ 
счетчик может использоваться как для ограничения длительности  
посылки, так и для задания интервала между посылками. Последнее  
возможно благодаря тому, что сигнал с выхода модулятора может  
подаваться на вход предделителя таймера/счетчика, даже если разряд 
PORTA2 установлен в «1» и генерация отсутствует. 
Для использования таймера/счетчика ТО в описанном режиме он 
должен быть сконфигурирован таким образом, чтобы по его  
переполнению изменялось состояние выхода РА2. Подробно о  
конфигурировании таймера см. в Главе 5. 
Перед запуском модулятора следует занести требуемые значения в 
регистр MODCR. Далее запуск может быть осуществлен двумя  
способами: сбросом разряда PORTA2 регистра PORTA или заданием  
конфигурации таймера/счетчика ТО таким образом, чтобы он сбросил выход 
РА2 при переполнении. 
Остановить генерацию можно также двумя способами: вручную 
или с помощью таймера (установка выхода РА2 при переполнении). 
-85- 
