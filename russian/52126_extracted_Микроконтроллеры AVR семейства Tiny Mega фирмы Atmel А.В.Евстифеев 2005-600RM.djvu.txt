Глава 25. Программирование по интерфейсу JTAG 
Update-DR — загруженная команда подается на блок памяти 
микроконтроллера; 
Run-Test/Idle — в ряде случаев генерируется один тактовый  
импульс, необходимый для выполнения команды. 
25.2.4. PROGJPAGELOAD (код команды $06) 
Эта команда предназначена для непосредственной загрузки 
страницы памяти программ через порт JTAG. В качестве регистра 
данных выбирается регистр загрузки виртуальной страницы (Virtual 
Flash Page Load Register), размер которого равен размеру одной 
страницы памяти программ. Собственно сдвиговый регистр является 
8-разрядным, а побайтная пересылка данных в буфер осуществляется 
автоматически. 
Активные состояния: 
Shift-DR — осуществляется поразрядная загрузка данных и 
побайтная их пересылка в буфер страницы FLASH-памяти. 
25.2.5. PROG_PAGEREAD (код команды $07) 
Эта команда предназначена для считывания содержимого  
страницы памяти программ через порт JTAG. В качестве регистра данных  
выбирается регистр чтения виртуальной страницы (Virtual Flash Page Read 
Register), размер которого на 1 байт больше размера страницы памяти 
программ. Побайтная пересылка содержимого страницы в сдвиговый 
регистр осуществляется автоматически. 
Активные состояния: 
Shift-DR — осуществляется побайтная пересылка содержимого 
страницы FLASH-памяти в сдвиговый регистр и поразрядная 
его выдача на вывод TDO. Первые 8 тактов используются для 
первоначальной загрузки сдвигового регистра, поэтому  
выдаваемые в это время разряды должны быть проигнорированы. 
5.2.6. Алгоритм программирования 
В этом параграфе описываются действия, которые необходимо  
выполнить для программирования микроконтроллеров через порт JTAG. 
Формат всех команд, используемых при программировании (не путать 
с командами JTAG), приведен в Табл. 4.23. 
-519- 
