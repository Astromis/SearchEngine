Часть 1. Микроконтроллеры семейства Tiny 
TCNT0 во время работы таймера, счет будет продолжен в следующем 
за командой записи машинном цикле. После подачи напряжения  
питания в регистре TCNT0 находится нулевое значение. 
При переходе таймера/счетчика из состояния «$FF» в состояние 
«$00» устанавливается флаг TOV0 регистра TIFR (IFR для ATtiny28x) и 
генерируется запрос на прерывание. Разрешение прерывания  
осуществляется установкой в «1» разряда TOIE0 регистра TIMSK (ICR для 
ATtiny28x) при условии, что флаг общего разрешения прерываний I  
регистра SREG также установлен в «1». 
Таймер/счетчик ТО может работать в режиме таймера или в режиме 
счетчика событий. В режиме таймера на вход таймера/счетчика  
поступают импульсы тактового сигнала микроконтроллера  
(непосредственно или через предделитель). В микроконтроллерах ATtiny28x, кроме 
того, входным сигналом таймера/счетчика может являться сигнал от 
аппаратного модулятора. В режиме счетчика событий инкремент  
содержимого счетного регистра производится по активному фронту  
сигнала на входе ТО микроконтроллера. 
Управление таймером/счетчиком ТО осуществляется с помощью 
регистра управления таймером TCCR0, расположенного по адресу $33 
(в моделях ATtiny28x—по адресу $04). Формат этого регистра для  
различных моделей семейства приведен на Рис. 1.52. Вкратце назначение 
разрядов этого регистра описано в Табл. 1.36. 
Рис. 1.52. Формат регистра ТСС R0 
Выбор режима работы (источника тактового сигнала), а также  
запуск и остановка таймера/счетчика осуществляются с помощью  
разрядов CS02...CS00 регистра TCCR0. Соответствие между состоянием 
этих разрядов и режимом работы таймера/счетчика приведено 
в Табл. 1.37. 
