Глава 9. Архитектура микроконтроллеров 
левое значение, в самом начале программы указатель стека необходимо про- 
инициализировать, записав в него значение верхнего адреса памяти данных. 
При вызове подпрограмм адрес команды, расположенной за  
командой вызова, сохраняется в стеке. Значение указателя стека при 
этом уменьшается на 2, т. к. для хранения счетчика команд требуется 
2 байта. При возврате из подпрограммы этот адрес извлекается из 
стека и загружается в счетчик команд. Значение указателя стека  
соответственно увеличивается на 2. То же происходит и во время  
прерывания. При генерации прерывания адрес следующей команды  
сохраняется в стеке, а при возврате из подпрограммы обработки 
прерывания он восстанавливается из стека. 
Во всех моделях микроконтроллеров семейства Mega стек доступен 
программно. Для работы со стеком в наборе команд имеется две комавды: 
команда занесения в стек (PUSH) и команда извлечения из стека (POP). 
— 199 — 
