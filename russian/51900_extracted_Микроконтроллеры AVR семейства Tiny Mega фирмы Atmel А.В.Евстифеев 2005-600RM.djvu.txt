Глава 13. Таймеры 
флаг прерывания T0V1 (T0V3) регистра TIFR (ETIFR). Временные  
диаграммы для этого режима работы таймера/счетчика приведены на Рис. 2.80. 
Рис. 2.80. Временные диаграммы для режима СТС 
При достижении счетчиком максимального значения устанавливается 
флаг: 
• OCF1A (OCF3A) регистра TIFR (ETIFR), если модуль счета  
определяется регистром сравнения OCR1A (OCR3A); 
• ICF1 (ICF3) регистра TIFR (ETIFR), если модуль счета  
определяется регистром захвата ICR1 (ICR3). 
Одновременно с установкой флага может изменяться состояние вывода 
ОС1А (ОСЗА) микроконтроллера. Поведение вывода определяется  
состоянием разрядов СОМяА1:СОМлА0 регистров TCCR1A (TCCR3A), как  
указано в Табл. 2.95. 
Таблица 2.95. Управление выводом ОС1А (ОСЗА) в режиме СТС 
СОМяА1 
0 
0 
1 
1 
СОМлАО 
0 
1 
0 
1 
Описание 
Таймер/счетчик Тл отключен от вывода ОСл 
Состояние вывода меняется на противоположное 
Вывод сбрасывается в «0» 
Вывод устанавливается в «1» 
Примечание: п = 1 или 3. 
Для генерации сигнала заданной частоты необходимо записать в разряды 
СОМ1А1:СОМ1А0 (СОМЗА1:СОМЗА0) значение «01» (переключение 
состояния вывода). Частота генерируемого сигнала буцет определяться 
выражением/оси ^к \/о/2Щ + ^)> где X — модуль счета (значение, 
находящееся в регистре OCR1A (OCR3A) или ICR1 (ICR3); N —  
коэффициент деления предделителя (см. Табл. 2.92). 
— 291 — 
