Глава 9. Архитектура микроконтроллеров 
Также при использовании EEPROM-памяти необходимо соблюдать  
некоторые меры предосторожности, чтобы избежать повреждения данных, 
хранящихся в ней. Подробно эти меры были описаны в подразделе 2.2.3.2 
(Часть 1). 
9.3. Счетчик команд и выполнение программы 
9.3.1. Счетчик команд 
Счетчик команд представляет собой регистр, в котором содержится 
адрес следующей исполняемой команды. Напрямую из программы он 
недоступен. Размер счетчика команд зависит от объема имеющейся  
памяти программ и составляет 12 (ATmega8x)...16 (ATmegal28x) разрядов. 
При нормальном выполнении программы содержимое счетчика команд 
автоматически увеличивается на 1 или на 2 (в зависимости от выполняемой 
команды) в каждом машинном цикле. Этот порядок нарушается при  
выполнении команд перехода, вызова и возврата из подпрограмм, а также при 
возникновении прерываний. 
После включения питания, а также после сброса микроконтроллера 
в счетчик программ автоматически загружается стартовый адрес $0000 или 
начальный адрес сектора загрузчика. Как правило, по этому адресу 
располагается команда безусловного перехода к инициализационной части 
программы. 
При возникновении прерывания в счетчик команд загружается адрес  
соответствующего вектора прерывания. Если прерывания используются в 
программе, по адресам векторов прерываний должны размещаться команды 
перехода к подпрограммам обработки прерываний. 
9.3.2. Функционирование конвейера 
Как и во всех микроконтроллерах AVR, в микроконтроллерах семейства 
Mega используется конвейерная обработка команд. Функционирование 
конвейера показано на Рис. 2.34. 
Рис. 2.34. Последовательность выполнения команд в конвейере 
-193- 
