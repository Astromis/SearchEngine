Часть 4. Программирование микроконтроллеров семейств Tiny и Mega 
26.2. Области RWWh NRWW 
В микроконтроллерах ATmega8x, ATmega8515x, ATmega 16x, 
ATmega 162x и ATmega64x/128x имеется также и другое разделение 
памяти программ. В этих моделях вся память программ разбита на две 
области фиксированного размера, называемых «чтение при записи» 
(Read-While-Write, RWW) и «нет чтения при записи» 
(No Read-While-Write, NRWW). Размеры этих областей для всех 
микроконтроллеров семейства приведены в Табл. 4.25. 
Таблица 4.25. Области RWW и NRWW 
 
Секция 
RWW 
NRWW 
ATmega8x 
ATmega8515x 
¦ 
96 
32 
Адреса 
$000...$BFF 
$C00...$FFF 
ATmegal6x 
ATmega 162x 
* 
112 
16 
Адреса 
$0000...$ 1BFF 
$1COO...$1FFF 
Aftnega64x 
* 
224 
32 
Адреса 
$0000...$6FFF 
$7000...$7FFF 
Annegal28x 
* 
480 
32 
Адреса 
$0000...$EFFF 
$F000...$FFFF 
* Количество страниц 
Отличие между этими областями заключается в различном  
поведении центрального процессора при изменении расположенных в них 
данных: 
• во время выполнения операции стирания или записи страницы 
памяти программ, расположенной в области RWW, процессор  
может осуществлять чтение только из области NRWW; 
• во время выполнения операции стирания или записи страницы 
памяти программ, расположенной в области NRWW, процессор 
останавливается до окончания этой операции. 
Таким образом, во время изменения содержимого страницы памяти 
программ, расположенной в области RWW, чтение этой области  
запрещено. Попытка обратиться во время программирования к коду,  
находящемуся в области RWW (в результате выполнения команд CALL/ 
JMP/LPM или в результате прерывания), может привести к  
непредсказуемым последствиям. Во избежание этого следует либо запретить  
прерывания, либо перенести таблицу векторов прерываний в секцию  
загрузчика, которая всегда находится в области NRWW. 
Для определения того, разрешено чтение из области RWW или нет, 
предназначен флаг RWWSB регистра SPMCR (см. ниже).  
Установленный в «1» флаг означает, что область RWW заблокирована для чтения. 
По окончании операции программирования флаг RWWSB должен 
быть сброшен программно (см. описание регистра SPMCR). 
Напротив, код, расположенный в области NRWW, может быть 
-530- 
